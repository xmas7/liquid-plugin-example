language: rust
before_script: cargo install --git https://github.com/rust-lang-nursery/rustfmt
script:
- |
  cargo build &&
  cargo fmt -- --write-mode=diff &&
  cargo test

